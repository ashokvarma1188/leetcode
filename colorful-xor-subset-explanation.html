<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #000000;
      color: #ffffff;
      padding: 20px;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background-color: #121212;
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 8px rgba(255,255,255,0.1);
    }
    
    h1 {
      color: #bb86fc;
      text-align: center;
      border-bottom: 2px solid #333333;
      padding-bottom: 10px;
    }
    
    h2 {
      color: #03dac6;
      margin-top: 20px;
    }
    
    .step {
      background-color: #1e1e1e;
      border-left: 5px solid #bb86fc;
      padding: 15px;
      margin: 15px 0;
      border-radius: 5px;
    }
    
    .binary {
      font-family: monospace;
      background-color: #000000;
      color: #fff;
      padding: 5px 10px;
      border-radius: 5px;
      margin: 5px 0;
      letter-spacing: 3px;
      display: inline-block;
    }
    
    .bit-0 { color: #ff5555; }
    .bit-1 { color: #50fa7b; }
    
    .operation {
      display: flex;
      align-items: center;
      margin: 15px 0;
    }
    
    .operator {
      margin: 0 10px;
      font-weight: bold;
      font-size: 20px;
      color: #ff79c6;
    }
    
    .result {
      background-color: #252525;
      border: 2px dashed #03dac6;
      padding: 10px;
      margin: 15px 0;
      border-radius: 5px;
      font-weight: bold;
    }
    
    .formula {
      background-color: #2d2d2d;
      border: 2px solid #ffb86c;
      padding: 10px;
      border-radius: 5px;
      text-align: center;
      font-size: 18px;
      margin: 15px 0;
      color: #f1fa8c;
    }
    
    .subset-table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }
    
    .subset-table th, .subset-table td {
      border: 1px solid #333333;
      padding: 8px;
      text-align: center;
    }
    
    .subset-table th {
      background-color: #1e1e1e;
      color: #bb86fc;
    }
    
    .subset-table tr:nth-child(even) {
      background-color: #252525;
    }
    
    .highlight {
      background-color: #41414d;
      color: #f1fa8c;
      padding: 2px 5px;
      border-radius: 3px;
    }

    .math-explanation {
      background-color: #2a2a2a;
      border: 1px solid #444444;
      padding: 15px;
      border-radius: 5px;
      margin: 15px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Subset XOR Sum Algorithm Visualization</h1>
    
    <div class="step">
      <h2>Input Array: [1, 3, 5]</h2>
      <p>Let's see how this elegant algorithm calculates the XOR sum of all possible subsets!</p>
    </div>
    
    <div class="step">
      <h2>Step 1: Convert Numbers to Binary</h2>
      <div class="operation">
        <div>
          <div>1 = <span class="binary"><span class="bit-0">0</span><span class="bit-0">0</span><span class="bit-1">1</span></span></div>
          <div>3 = <span class="binary"><span class="bit-0">0</span><span class="bit-1">1</span><span class="bit-1">1</span></span></div>
          <div>5 = <span class="binary"><span class="bit-1">1</span><span class="bit-0">0</span><span class="bit-1">1</span></span></div>
        </div>
      </div>
    </div>
    
    <div class="step">
      <h2>Step 2: Calculate Bitwise OR of All Elements</h2>
      <p>The code uses <span class="highlight">total |= num</span> to build the bitwise OR progressively:</p>
      
      <div class="operation">
        <div>Initial total = <span class="binary"><span class="bit-0">0</span><span class="bit-0">0</span><span class="bit-0">0</span></span></div>
      </div>
      
      <div class="operation">
        <div>total = <span class="binary"><span class="bit-0">0</span><span class="bit-0">0</span><span class="bit-0">0</span></span></div>
        <div class="operator">|</div>
        <div>num = <span class="binary"><span class="bit-0">0</span><span class="bit-0">0</span><span class="bit-1">1</span></span> (1)</div>
        <div class="operator">=</div>
        <div>new total = <span class="binary"><span class="bit-0">0</span><span class="bit-0">0</span><span class="bit-1">1</span></span> (1)</div>
      </div>
      
      <div class="operation">
        <div>total = <span class="binary"><span class="bit-0">0</span><span class="bit-0">0</span><span class="bit-1">1</span></span> (1)</div>
        <div class="operator">|</div>
        <div>num = <span class="binary"><span class="bit-0">0</span><span class="bit-1">1</span><span class="bit-1">1</span></span> (3)</div>
        <div class="operator">=</div>
        <div>new total = <span class="binary"><span class="bit-0">0</span><span class="bit-1">1</span><span class="bit-1">1</span></span> (3)</div>
      </div>
      
      <div class="operation">
        <div>total = <span class="binary"><span class="bit-0">0</span><span class="bit-1">1</span><span class="bit-1">1</span></span> (3)</div>
        <div class="operator">|</div>
        <div>num = <span class="binary"><span class="bit-1">1</span><span class="bit-0">0</span><span class="bit-1">1</span></span> (5)</div>
        <div class="operator">=</div>
        <div>new total = <span class="binary"><span class="bit-1">1</span><span class="bit-1">1</span><span class="bit-1">1</span></span> (7)</div>
      </div>
      
      <div class="result">
        Final bitwise OR result: <span class="binary"><span class="bit-1">1</span><span class="bit-1">1</span><span class="bit-1">1</span></span> (7)
      </div>
    </div>
    
    <div class="step">
      <h2>Step 3: Calculate 2^(n-1)</h2>
      <div class="operation">
        <div>n = 3 (array length)</div>
        <div>2^(n-1) = 2^2 = 4</div>
      </div>
    </div>
    
    <div class="step">
      <h2>Step 4: Multiply Bitwise OR by 2^(n-1)</h2>
      <div class="operation">
        <div>7 × 4 = 28</div>
      </div>
      
      <div class="result">
        Final XOR Sum of all subsets: 28
      </div>
    </div>
    
    <div class="math-explanation">
      <h2>Why This Works: The Mathematical Insight</h2>
      <p>To understand why this algorithm works, let's look at all possible subsets and their XOR values:</p>
      
      <table class="subset-table">
        <tr>
          <th>Subset</th>
          <th>XOR Value</th>
        </tr>
        <tr>
          <td>[ ] (empty)</td>
          <td>0</td>
        </tr>
        <tr>
          <td>[1]</td>
          <td>1</td>
        </tr>
        <tr>
          <td>[3]</td>
          <td>3</td>
        </tr>
        <tr>
          <td>[5]</td>
          <td>5</td>
        </tr>
        <tr>
          <td>[1,3]</td>
          <td>1 ^ 3 = 2</td>
        </tr>
        <tr>
          <td>[1,5]</td>
          <td>1 ^ 5 = 4</td>
        </tr>
        <tr>
          <td>[3,5]</td>
          <td>3 ^ 5 = 6</td>
        </tr>
        <tr>
          <td>[1,3,5]</td>
          <td>1 ^ 3 ^ 5 = 7</td>
        </tr>
      </table>
      
      <p>Sum of all XOR values: 0 + 1 + 3 + 5 + 2 + 4 + 6 + 7 = 28</p>
      
      <p>The mathematical insight is that for each bit position in the numbers, that bit contributes to exactly half of all possible subset XORs. This is why we can just take the bitwise OR (which tells us which bit positions have 1s) and multiply by 2^(n-1).</p>
    </div>
    
    <div class="formula">
      Final Answer = (Bitwise OR of all nums) × 2^(n-1) = 7 × 4 = 28
    </div>
  </div>
</body>
</html>
